<!-- model-page.component.html -->
<div class="container" >
    <div class="main-container" [class.blur]="isSidebarOpen">
    <div class="header-section">
      <h1>Nos modèles : Luxe, Confort, Elégance</h1>
      <button class="filter-toggle" (click)="toggleFilterSidebar()">
        <span>Filtre</span>
        <i class="fas fa-sliders-h"></i>
      </button>
    </div>
  
  
  
    <!-- Cars grid -->
    <div class="cars-grid">
      <div class="car-card" *ngFor="let car of filteredCars">
        <img [src]="car.image" [alt]="car.name" />
        <div class="car-details">
          <h3>{{ car.name }}</h3>
          <p>{{ car.year }} | {{ car.km }} km</p>
          <h4>FCFA {{ car.price }}</h4>
          <div class="arrow-container">
            <button class="detailsbutton" (click)="goToDetails(car)">
              <i class="fa-solid fa-chevron-right fa-beat-fade"></i>
            </button>
            <div class="car-labels">
              <span *ngIf="car.isBlindado" class="label">Blindado</span>
              <span *ngIf="car.type" class="label">{{ car.type }}</span>
            </div>
          </div>
        </div>
      </div>
    </div>
    </div>
  </div>

  <!-- -->
    <!-- Sidebar overlay -->
    <div class="sidebar-overlay" [class.active]="isSidebarOpen" (click)="closeSidebar()"></div>
  
    <!-- Filter sidebar -->
    <div class="filter-sidebar" [class.active]="isSidebarOpen">
      <div class="sidebar-header">
        <div class="logo">
            <img class="logo1" src="images/Logo-TC.png" alt="Logo">
            <img class="logo2" src="images/Calque_1.png" alt="Logo">
          </div>
        <button class="close-sidebar" (click)="closeSidebar()">
          <i class="fas fa-times"></i>
        </button>
      </div>
  
      <form (ngSubmit)="applyFiltersAndClose()">
        <div class="filter-content">
          <div class="form-group">
            <label for="marca">Marque</label>
            <select id="marca" [(ngModel)]="filters.marca" [ngModelOptions]="{standalone:true}">
              <option value="">Toutes</option>
              <option *ngFor="let marca of marcas" [value]="marca">{{ marca }}</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="modelo">Modèle</label>
            <select id="modelo" [(ngModel)]="filters.modelo" [ngModelOptions]="{standalone:true}">
              <option value="">Tous</option>
              <option *ngFor="let modelo of modelos" [value]="modelo">{{ modelo }}</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="blindado">Blindage</label>
            <select id="blindado" [(ngModel)]="filters.blindado" [ngModelOptions]="{standalone:true}">
              <option value="">Tous</option>
              <option value="Sim">Oui</option>
              <option value="Não">Non</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="motorizacao">Motorisation</label>
            <select id="motorizacao" [(ngModel)]="filters.motorizacao" [ngModelOptions]="{standalone:true}">
              <option value="">Toutes</option>
              <option *ngFor="let motorizacao of motorizacoes" [value]="motorizacao">{{ motorizacao }}</option>
            </select>
          </div>
  
          <div class="form-group">
            <label for="ano">Année</label>
            <div class="range-group">
              <input type="number" [(ngModel)]="filters.anoMin" placeholder="2020" [ngModelOptions]="{standalone:true}" />
              <span>Jusqu'à</span>
              <input type="number" [(ngModel)]="filters.anoMax" placeholder="2025" [ngModelOptions]="{standalone:true}" />
            </div>
          </div>
  
          <div class="form-group">
            <label for="valor">Valeur</label>
            <div class="range-group">
              <input type="number" [(ngModel)]="filters.valorMin" placeholder="100000" [ngModelOptions]="{standalone:true}" />
              <span>Jusqu'à</span>
              <input type="number" [(ngModel)]="filters.valorMax" placeholder="4250000" [ngModelOptions]="{standalone:true}" />
            </div>
          </div>
  
          <div class="form-group">
            <label for="quilometragem">Quilométrage</label>
            <div class="range-group">
              <input type="number" [(ngModel)]="filters.kmMin" placeholder="0km" [ngModelOptions]="{standalone:true}" />
              <span>Jusqu'à</span>
              <input type="number" [(ngModel)]="filters.kmMax" placeholder="50000km" [ngModelOptions]="{standalone:true}" />
            </div>
          </div>
  
          <div class="sidebar-footer">
            <button type="button" class="btn-reset" (click)="resetFilters()">Vider</button>
            <button type="submit" class="btn-filter">Filtrer</button>
          </div>
        </div>
      </form>
    </div>
<!--  -->

<app-form-reseach-page></app-form-reseach-page>